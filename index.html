<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spice Garden Digital Order - Simple</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* General Styles */
        body { font-family: 'Inter', sans-serif; background-color: #f7f7f7; }
        .main-card { max-width: 95%; min-height: 85vh; background-color: #ffffff; }
        .dish-card {
            transition: all 0.2s;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }
        .dish-card.active-order {
            border-color: #22c55e; /* Green-500 */
            background-color: #f0fdf4; /* Green-50 */
            border-width: 2px;
            transform: scale(1.02);
        }
        .qty-button {
            width: 30px;
            height: 30px;
            font-weight: bold;
        }
        .section-title {
            border-left: 4px solid #22c55e; /* Green accent */
            padding-left: 1rem;
        }
        .category-heading {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            color: #374151; /* gray-700 */
        }
        /* Custom scrollbar for desktop category list */
        #menu-list::-webkit-scrollbar {
            width: 8px;
        }
        #menu-list::-webkit-scrollbar-thumb {
            background-color: #a7f3d0; /* Green-200 */
            border-radius: 4px;
        }
    </style>
</head>
<body class="p-2 md:p-8 flex items-center justify-center min-h-screen">

    <div id="app" class="main-card w-full lg:w-3/5 p-4 md:p-10 rounded-xl shadow-2xl">
        <header class="mb-8 text-center border-b pb-4 border-gray-100">
            <h1 class="text-4xl font-extrabold text-gray-800 tracking-tight">
                <span class="text-green-600">Spice</span> Garden Order ðŸ‡®ðŸ‡³
            </h1>
            <p class="text-gray-500 mt-1">Digital Menu - Select Quantity Below</p>
        </header>

        <div id="menu-view">
            <h2 class="section-title text-2xl font-semibold mb-6 text-gray-700">1. Adjust Quantities</h2>
            
            <div class="flex flex-col lg:flex-row">
                <nav class="hidden lg:block lg:w-1/4 pr-4 sticky top-0 self-start">
                    <ul class="space-y-2 text-sm font-medium">
                        <li><a href="#starter-section" class="block p-2 rounded-lg text-gray-700 hover:bg-green-100 transition duration-150">Starter</a></li>
                        <li><a href="#main-course-section" class="block p-2 rounded-lg text-gray-700 hover:bg-green-100 transition duration-150">Main Course</a></li>
                        <li><a href="#breads-section" class="block p-2 rounded-lg text-gray-700 hover:bg-green-100 transition duration-150">Breads</a></li>
                        <li><a href="#beverages-section" class="block p-2 rounded-lg text-gray-700 hover:bg-green-100 transition duration-150">Beverages</a></li>
                        <li><a href="#sweets-section" class="block p-2 rounded-lg text-gray-700 hover:bg-green-100 transition duration-150">Sweets</a></li>
                    </ul>
                </nav>

                <div id="menu-list" class="space-y-6 lg:w-3/4 lg:max-h-[60vh] lg:overflow-y-auto lg:pr-4">
                    
                    <div id="starter-section">
                        <div class="category-heading text-lg">Starter</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                            <div id="dish-Samosa" data-name="Samosa (2 pcs)" data-price="80" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Samosa (2 pcs)</p>
                                    <p class="text-xs text-gray-500">Fried pastry with spiced potato and peas.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹80</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Samosa', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Samosa" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Samosa', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Aloo-Tikki" data-name="Aloo Tikki Chaat" data-price="120" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Aloo Tikki Chaat</p>
                                    <p class="text-xs text-gray-500">Potato patties with chutney & yogurt.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹120</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Aloo-Tikki', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Aloo-Tikki" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Aloo-Tikki', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Paneer-Pakora" data-name="Paneer Pakora" data-price="150" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Paneer Pakora</p>
                                    <p class="text-xs text-gray-500">Deep-fried cottage cheese fritters.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹150</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Paneer-Pakora', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Paneer-Pakora" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Paneer-Pakora', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Veg-Spring-Roll" data-name="Veg Spring Roll" data-price="180" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Veg Spring Roll</p>
                                    <p class="text-xs text-gray-500">Crispy rolls filled with vegetables.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹180</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Veg-Spring-Roll', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Veg-Spring-Roll" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Veg-Spring-Roll', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Chicken-Lollipop" data-name="Chicken Lollipop" data-price="250" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Chicken Lollipop</p>
                                    <p class="text-xs text-gray-500">Spicy deep-fried chicken wings.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹250</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Chicken-Lollipop', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Chicken-Lollipop" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Chicken-Lollipop', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="main-course-section">
                        <div class="category-heading text-lg">Main Course</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                            <div id="dish-Paneer-Tikka-Masala" data-name="Paneer Tikka Masala" data-price="280" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Paneer Tikka Masala</p>
                                    <p class="text-xs text-gray-500">Creamy, authentic Indian curry.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹280</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Paneer-Tikka-Masala', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Paneer-Tikka-Masala" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Paneer-Tikka-Masala', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Chicken-Korma" data-name="Chicken Korma" data-price="350" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Chicken Korma</p>
                                    <p class="text-xs text-gray-500">Mildly spiced, creamy chicken dish.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹350</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Chicken-Korma', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Chicken-Korma" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Chicken-Korma', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Veg-Biryani" data-name="Veg Biryani" data-price="320" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Veg Biryani</p>
                                    <p class="text-xs text-gray-500">Aromatic rice dish.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹320</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Veg-Biryani', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Veg-Biryani" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Veg-Biryani', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Dal-Makhani" data-name="Dal Makhani" data-price="240" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Dal Makhani</p>
                                    <p class="text-xs text-gray-500">Slow-cooked black lentils in butter and cream.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹240</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Dal-Makhani', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Dal-Makhani" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Dal-Makhani', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Mutton-Rogan-Josh" data-name="Mutton Rogan Josh" data-price="450" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Mutton Rogan Josh</p>
                                    <p class="text-xs text-gray-500">Aromatic Kashmiri lamb curry.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹450</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Mutton-Rogan-Josh', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Mutton-Rogan-Josh" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Mutton-Rogan-Josh', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="breads-section">
                        <div class="category-heading text-lg">Breads</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                            <div id="dish-Butter-Naan" data-name="Butter Naan" data-price="50" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Butter Naan</p>
                                    <p class="text-xs text-gray-500">Soft Tandoori bread.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹50</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Butter-Naan', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Butter-Naan" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Butter-Naan', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Tandoori-Roti" data-name="Tandoori Roti" data-price="30" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Tandoori Roti</p>
                                    <p class="text-xs text-gray-500">Whole wheat bread, baked in tandoor.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹30</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Tandoori-Roti', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Tandoori-Roti" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Tandoori-Roti', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Garlic-Naan" data-name="Garlic Naan" data-price="65" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Garlic Naan</p>
                                    <p class="text-xs text-gray-500">Naan flavored with garlic.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹65</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Garlic-Naan', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Garlic-Naan" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Garlic-Naan', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Lachha-Paratha" data-name="Lachha Paratha" data-price="70" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Lachha Paratha</p>
                                    <p class="text-xs text-gray-500">Multi-layered, flaky paratha.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹70</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Lachha-Paratha', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Lachha-Paratha" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Lachha-Paratha', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Missi-Roti" data-name="Missi Roti" data-price="55" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Missi Roti</p>
                                    <p class="text-xs text-gray-500">Made with chickpea & wheat flour.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹55</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Missi-Roti', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Missi-Roti" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Missi-Roti', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="beverages-section">
                        <div class="category-heading text-lg">Beverages</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                            <div id="dish-Masala-Soda" data-name="Masala Soda" data-price="60" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Masala Soda</p>
                                    <p class="text-xs text-gray-500">Spiced Indian soda.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹60</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Masala-Soda', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Masala-Soda" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Masala-Soda', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Sweet-Lassi" data-name="Sweet Lassi" data-price="90" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Sweet Lassi</p>
                                    <p class="text-xs text-gray-500">Traditional sweet yogurt drink.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹90</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Sweet-Lassi', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Sweet-Lassi" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Sweet-Lassi', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Salted-Lassi" data-name="Salted Lassi" data-price="80" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Salted Lassi</p>
                                    <p class="text-xs text-gray-500">Savory yogurt drink.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹80</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Salted-Lassi', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Salted-Lassi" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Salted-Lassi', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Jal-Jeera" data-name="Jal Jeera" data-price="50" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Jal Jeera</p>
                                    <p class="text-xs text-gray-500">Tangy and refreshing drink.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹50</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Jal-Jeera', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Jal-Jeera" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Jal-Jeera', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Fresh-Lime-Soda" data-name="Fresh Lime Soda" data-price="75" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Fresh Lime Soda</p>
                                    <p class="text-xs text-gray-500">Sweet, salted, or mixed.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹75</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Fresh-Lime-Soda', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Fresh-Lime-Soda" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Fresh-Lime-Soda', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="sweets-section">
                        <div class="category-heading text-lg">Sweets</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                            <div id="dish-Gulab-Jamun" data-name="Gulab Jamun (2 pcs)" data-price="120" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Gulab Jamun (2 pcs)</p>
                                    <p class="text-xs text-gray-500">Sweet dumplings in syrup.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹120</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Gulab-Jamun', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Gulab-Jamun" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Gulab-Jamun', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Rasgulla" data-name="Rasgulla (2 pcs)" data-price="130" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Rasgulla (2 pcs)</p>
                                    <p class="text-xs text-gray-500">Spongy cheese balls in syrup.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹130</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Rasgulla', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Rasgulla" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Rasgulla', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Kulfi" data-name="Kulfi (Malai)" data-price="150" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Kulfi (Malai)</p>
                                    <p class="text-xs text-gray-500">Traditional frozen dairy dessert.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹150</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Kulfi', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Kulfi" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Kulfi', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Gajar-Ka-Halwa" data-name="Gajar Ka Halwa" data-price="160" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Gajar Ka Halwa</p>
                                    <p class="text-xs text-gray-500">Carrot pudding cooked with milk & ghee.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹160</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Gajar-Ka-Halwa', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Gajar-Ka-Halwa" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Gajar-Ka-Halwa', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>

                            <div id="dish-Jalebi" data-name="Jalebi" data-price="100" class="dish-card p-4 border border-gray-200 rounded-lg flex justify-between items-center">
                                <div>
                                    <p class="font-bold text-gray-800">Jalebi</p>
                                    <p class="text-xs text-gray-500">Crispy, syrupy coil-shaped dessert.</p>
                                    <p class="text-lg font-extrabold text-red-600 mt-2">â‚¹100</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button onclick="changeQuantity('Jalebi', -1)" class="qty-button text-gray-700 border border-gray-400 rounded-full hover:bg-gray-100 disabled:opacity-30 disabled:cursor-default">-</button>
                                    <span id="qty-Jalebi" class="w-6 text-center font-bold">0</span>
                                    <button onclick="changeQuantity('Jalebi', 1)" class="qty-button bg-green-500 text-white rounded-full hover:bg-green-600">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            
            <div class="mt-10 pt-4 border-t border-gray-200 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                <div class="text-xl font-bold text-gray-700">
                    Total Dishes Selected: <span id="total-items" class="text-green-600">0</span>
                </div>
                <button id="proceed-button" onclick="showForm()" class="w-full md:w-auto px-8 py-3 bg-red-500 text-white font-bold rounded-full shadow-lg transition hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Proceed to Details &rarr;
                </button>
            </div>
        </div>

        <div id="form-view" class="hidden">
            <h2 class="section-title text-2xl font-semibold mb-6 text-gray-700">2. Confirm Details & Place Order</h2>
            <form id="order-form" class="space-y-6">
                <div>
                    <p class="text-base font-medium text-gray-700 mb-2">Your Final Order:</p>
                    <div id="order-summary-display" class="p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 font-medium space-y-2">
                        </div>
                </div>

                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700">Your Name (Required)</label>
                    <input type="text" id="name" name="name" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">
                </div>
                <div>
                    <label for="contact" class="block text-sm font-medium text-gray-700">Mobile Number (10 digits, Required)</label>
                    <input type="tel" id="contact" name="contact" pattern="[0-9]{10}" maxlength="10" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">
                    <p class="text-xs text-gray-400 mt-1">For contact and order verification.</p>
                </div>
                <div>
                    <label for="table" class="block text-sm font-medium text-gray-700">Table Number (Required)</label>
                    <input type="text" id="table" name="table" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">
                </div>
                
                <div id="message-box" class="hidden p-4 text-sm rounded-lg font-medium" role="alert"></div>

                <div class="flex flex-col sm:flex-row justify-between items-center pt-4 border-t border-gray-100 space-y-4 sm:space-y-0">
                    <button type="button" onclick="showMenu()" class="w-full sm:w-auto px-6 py-2 text-gray-600 font-medium rounded-full hover:bg-gray-100 transition border border-gray-300">
                        &larr; Back to Menu
                    </button>
                    <button type="submit" id="submit-button" class="w-full sm:w-auto px-8 py-3 bg-green-600 text-white font-bold rounded-full shadow-xl transition hover:bg-green-700 disabled:opacity-50 disabled:cursor-wait">
                        Confirm & Place Order
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
    // ************************************************
    // âš™ï¸ N8N WEBHOOK CONFIGURATION 
    // ************************************************
    const N8N_WEBHOOK_URL = 'https://borsekaushal.app.n8n.cloud/webhook/Menu'; 

    let selectedItems = {}; 
    const menuView = document.getElementById('menu-view');
    const formView = document.getElementById('form-view');
    const proceedButton = document.getElementById('proceed-button');
    const totalItemsSpan = document.getElementById('total-items');
    const orderSummaryDisplay = document.getElementById('order-summary-display');
    const messageBox = document.getElementById('message-box');

    // --- Utility Functions ---
    
    function showMessage(message, type) {
        messageBox.innerHTML = message;
        messageBox.classList.remove('hidden', 'bg-red-100', 'text-red-800', 'bg-green-100', 'text-green-800');
        messageBox.classList.add(
            type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
        );
    }

    function clearMessage() {
        messageBox.classList.add('hidden');
        messageBox.innerHTML = '';
    }

    function calculateTotal() {
        // Find all dish cards on the page
        const dishCards = document.querySelectorAll('[id^="dish-"]');
        let total = 0;

        dishCards.forEach(card => {
            const id = card.id.replace('dish-', '');
            if (selectedItems[id] && selectedItems[id].qty > 0) {
                const price = parseFloat(card.getAttribute('data-price'));
                total += selectedItems[id].qty * price;
            }
        });
        return total;
    }

    function updateSelectionState() {
        const itemCount = Object.values(selectedItems).reduce((sum, item) => sum + (item.qty > 0 ? 1 : 0), 0);
        totalItemsSpan.textContent = itemCount;
        proceedButton.disabled = itemCount === 0; 
    }

    function generateOrderSummary() {
        const validItems = Object.keys(selectedItems)
            .map(id => {
                const dishElement = document.getElementById(`dish-${id}`);
                const price = parseFloat(dishElement.getAttribute('data-price'));
                return {
                    ...selectedItems[id],
                    price: price,
                    subtotal: selectedItems[id].qty * price
                };
            })
            .filter(item => item.qty > 0);

        if (validItems.length === 0) {
            return { text: "No items selected.", html: '<p>No items selected.</p>', total: '0' };
        }

        // Generate detailed HTML summary
        let summaryHTML = validItems.map(item => `
            <div class="flex justify-between">
                <span class="text-gray-700">${item.qty} x ${item.name}</span>
                <span class="text-red-600 font-extrabold">â‚¹${item.subtotal.toFixed(0)}</span>
            </div>
        `).join('');

        const total = calculateTotal();
        summaryHTML += `
            <div class="border-t pt-2 mt-2 border-gray-200 flex justify-between font-bold text-lg">
                <span>Total Bill:</span>
                <span class="text-green-600">â‚¹${total.toFixed(0)}</span>
            </div>
        `;
        
        // Return text for n8n payload and HTML for display
        return {
            text: validItems.map(item => `${item.qty} x ${item.name}`).join(', '),
            html: summaryHTML,
            total: total.toFixed(0)
        };
    }
    
    // --- Quantity Logic ---
    
    function changeQuantity(id, change) {
        const dishElement = document.getElementById(`dish-${id}`);
        const qtySpan = document.getElementById(`qty-${id}`);
        
        let currentQty = parseInt(qtySpan.textContent);
        let newQty = currentQty + change;

        if (newQty < 0) {
            newQty = 0;
        }
        if (newQty > 99) { // Max limit
            newQty = 99;
        }

        // Update UI
        qtySpan.textContent = newQty;
        
        // Store/update item data in state
        if (newQty > 0) {
            dishElement.classList.add('active-order');
            selectedItems[id] = { 
                qty: newQty, 
                name: dishElement.getAttribute('data-name')
            };
        } else {
            dishElement.classList.remove('active-order');
            delete selectedItems[id];
        }

        updateSelectionState();
        
        // Disable minus button if quantity is zero
        const minusButton = dishElement.querySelector('.qty-button');
        if (minusButton) {
            minusButton.disabled = newQty === 0;
        }
    }
    
    // --- View Switching ---

    function showForm() {
        const summary = generateOrderSummary();
        orderSummaryDisplay.innerHTML = summary.html;
        menuView.classList.add('hidden');
        formView.classList.remove('hidden');
        clearMessage();
    }

    function showMenu() {
        formView.classList.add('hidden');
        menuView.classList.remove('hidden');
        clearMessage();
    }

    // --- Submission Logic ---

    document.getElementById('order-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const form = e.target;
        const submitButton = document.getElementById('submit-button');
        const summary = generateOrderSummary();

        const payload = {
            customerName: form.elements['name'].value,
            customerContact: form.elements['contact'].value,
            tableNumber: form.elements['table'].value,       
            order: summary.text, // Text format for spreadsheet
            totalBill: summary.total // Total calculated amount
        };
        
        submitButton.disabled = true;
        submitButton.textContent = 'Sending to Kitchen...';
        clearMessage();

        try {
            const maxRetries = 3;
            let attempt = 0;
            let response = null;

            while (attempt < maxRetries) {
                try {
                    response = await fetch(N8N_WEBHOOK_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload),
                    });

                    // Assume successful connection on non-network error
                    break; 

                } catch (error) {
                    attempt++;
                    console.error(`Attempt ${attempt} failed:`, error); // Log internal error
                    if (attempt >= maxRetries) { throw error; } 
                    const delay = Math.pow(2, attempt) * 1000; 
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }

            // Check if a response object was received from the server (Success Path)
            if (response) {
                showMessage('âœ… **Order Placed Successfully!** Your order is being processed by the kitchen.', 'success');
                
                // Reset UI after success
                setTimeout(() => {
                    form.reset();
                    document.querySelectorAll('.dish-card.active-order').forEach(item => item.classList.remove('active-order'));
                    document.querySelectorAll('[id^="qty-"]').forEach(span => span.textContent = '0');
                    selectedItems = {};
                    updateSelectionState();
                    showMenu();
                }, 3000); 

            } else {
                // If maxRetries failed to get *any* response (Hard Fail Path)
                // Log the issue but do NOT display an intrusive message to the user.
                console.error('Hard Fail: Order submission failed after all retries. No response received from server.');
                // Optionally show a non-intrusive message, but for this request, we keep it quiet.
                // showMessage('Order failed. Please call the waiter.', 'error');
            }

        } catch (error) {
            // Catches errors thrown by the retry logic (network errors)
            console.error('Final Submission Error (Network/CORS):', error);
            // Do NOT show message box on fatal error, just log.
        } finally {
            submitButton.disabled = false;
            submitButton.textContent = 'Confirm & Place Order';
        }
    });

    // Initialize minus buttons as disabled (per-dish)
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.dish-card').forEach(card => {
            const minus = card.querySelector('.qty-button');
            if (minus) minus.disabled = true;
        });
    });
</script>

</body>
</html>
